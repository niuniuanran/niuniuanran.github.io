<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="google-site-verification" content="xBT4GhYoi5qRD5tr338pgPM5OWHHIDR6mNg1a3euekI" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="keyword"  content="">
    <link rel="shortcut icon" href="/img/favicon.ico">
    <script data-ad-client="ca-pub-5032777697872834" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <title>
        
        Applying Command Pattern on Kalah - Anran&#39;s Coding Elephant
        
    </title><meta name="robots" content="noindex">

    <!-- Custom CSS -->
    
<link rel="stylesheet" href="/css/aircloud.css">

    
<link rel="stylesheet" href="/css/gitment.css">

    <!--<link rel="stylesheet" href="https://imsun.github.io/gitment/style/default.css">-->
    <link href="//at.alicdn.com/t/font_620856_pl6z7sid89qkt9.css" rel="stylesheet" type="text/css">
    <!-- ga & ba script hoook -->
    <script></script>
<meta name="generator" content="Hexo 4.2.1"></head>

<body>

<div class="site-nav-toggle" id="site-nav-toggle">
    <button>
        <span class="btn-bar"></span>
        <span class="btn-bar"></span>
        <span class="btn-bar"></span>
    </button>
</div>

<div class="index-about">
    <i> Sometimes rewarding, always fun </i>
</div>

<div class="index-container">
    
    <div class="index-left">
        
<div class="nav" id="nav">
    <div class="avatar-name">
        <div class="avatar ">
            <img src="/img/avatar.png" />
        </div>
        <div class="name">
            <i>Anran Niu</i>
        </div>
    </div>
    <div class="contents" id="nav-content">
        <ul>
            <li >
                <a href="/">
                    <i class="iconfont icon-shouye1"></i>
                    <span>HOME</span>
                </a>
            </li>
            
                <li>
                    <a id="search">
                        <i class="iconfont icon-sousuo1"></i>
                        <span>SEARCH</span>
                    </a>
                </li>
            
            <li >
                <a href="/tags">
                    <i class="iconfont icon-biaoqian1"></i>
                    <span>TAGS</span>
                </a>
            </li>
            <li >
                <a href="/archives">
                    <i class="iconfont icon-guidang2"></i>
                    <span>ARCHIVES</span>
                </a>
            </li>


            <li >
                <a href="/about/">
                    <i class="iconfont icon-guanyu2"></i>
                    <span>ABOUT</span>
                </a>
            </li>

        </ul>
    </div>
    
        <div id="toc" class="toc-article">
    <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#CompSci701-Assignment3-Journal"><span class="toc-text">CompSci701 Assignment3 Journal</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Challenge-1-Decoupling-Consecutive-Commands"><span class="toc-text">Challenge 1: Decoupling Consecutive Commands</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Refining-my-understanding-of-Command-Pattern"><span class="toc-text">Refining my understanding of Command Pattern</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#The-KEY-part"><span class="toc-text">The KEY part</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Parts-that-can-be-varied-from-case-to-case"><span class="toc-text">Parts that can be varied from case to case</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Execute-Time"><span class="toc-text">Execute Time</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Parameters"><span class="toc-text">Parameters</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Number-of-Commands-in-a-Programme"><span class="toc-text">Number of Commands in a Programme</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Command-encapsulating-the-state-of-receiver"><span class="toc-text">Command encapsulating the state of receiver</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#TODOs"><span class="toc-text">TODOs</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#UML-version-0-0-1"><span class="toc-text">UML version 0.0.1</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#UML-version-0-0-2"><span class="toc-text">UML version 0.0.2</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#What-is-the-Command-Pattern"><span class="toc-text">What is the Command Pattern?</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#UML-version-0-1-0"><span class="toc-text">UML version 0.1.0</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#UML-version-0-2-0"><span class="toc-text">UML version 0.2.0</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#UML-version-0-3-0"><span class="toc-text">UML version 0.3.0</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Command-Pattern"><span class="toc-text">Command Pattern</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#UML-version-1-0-0"><span class="toc-text">UML version 1.0.0</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#UML-version-1-0-1"><span class="toc-text">UML version 1.0.1</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Command-Pattern-2"><span class="toc-text">Command Pattern -2</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Reflections"><span class="toc-text">Reflections</span></a></li></ol></li></ol></li></ol>
</div>
    
</div>


<div class="search-field" id="search-field">
    <div class="search-container">
        <div class="search-input">
            <span id="esc-search"> <i class="icon-fanhui iconfont"></i></span>
            <input id="search-input"/>
            <span id="begin-search">search</span>
        </div>
        <div class="search-result-container" id="search-result-container">

        </div>
    </div>
</div>

        <div class="index-about-mobile">
            <i> Sometimes rewarding, always fun </i>
        </div>
    </div>
    
    <div class="index-middle">
        <!-- Main Content -->
        


<div class="post-container">
    <div class="post-title">
        Applying Command Pattern on Kalah
    </div>

    <div class="post-meta">
        <span class="attr">Post：<span>2020-10-04 10:03:47</span></span>
        
        <span class="attr">Tags：/
        
        <a class="tag" href="/tags/#Maintainable Software" title="Maintainable Software">Maintainable Software</a>
        <span>/</span>
        
        <a class="tag" href="/tags/#CompSci701 Journal" title="CompSci701 Journal">CompSci701 Journal</a>
        <span>/</span>
        
        
        </span>
        <span class="attr">Visit：<span id="busuanzi_value_page_pv"></span>
</span>
</span>
    </div>
    <div class="post-content ">
        <h1 id="CompSci701-Assignment3-Journal"><a href="#CompSci701-Assignment3-Journal" class="headerlink" title="CompSci701 Assignment3 Journal"></a>CompSci701 Assignment3 Journal</h1><h2 id="Challenge-1-Decoupling-Consecutive-Commands"><a href="#Challenge-1-Decoupling-Consecutive-Commands" class="headerlink" title="Challenge 1: Decoupling Consecutive Commands"></a>Challenge 1: Decoupling Consecutive Commands</h2><p>This is the first challenge I met and I posted it on Piazza too to see if someone has the same problem as I did or has any suggestions.</p>
<p>I am thinking about the assignment 3 and how to design the commands, and I am finding it hard to decouple consecutive commands.<br>I came up with a handful of command designs and they all seem to have a downside: result of a command execution will have impact on what the next command will be.</p>
<p>For example:</p>
<ul>
<li>If we have a command A to let a player play one round, we won’t know what the next command will be (capture? same player another round? the other player’s round), until command A has been executed and made changes to the board.</li>
<li>If we further refine the command and each command only sows one seed into a certain pit, the invoker will have to know a lot about the status of the pits/board (receiver) to decide what commands should be invoked next.</li>
</ul>
<p>Such tight coupling seems to be eliminating the benefits of Command Pattern, because the invoker will still need to know a lot about the receiver, or immediately know the result of the command execution to invoke the next command.</p>
<h2 id="Refining-my-understanding-of-Command-Pattern"><a href="#Refining-my-understanding-of-Command-Pattern" class="headerlink" title="Refining my understanding of Command Pattern"></a>Refining my understanding of Command Pattern</h2><h3 id="The-KEY-part"><a href="#The-KEY-part" class="headerlink" title="The KEY part"></a>The KEY part</h3><blockquote>
<p>The really key part of Command is “<strong>packaging up code and it’s parameters</strong> for (possibly) later execution”. (Ewan)</p>
</blockquote>
<h3 id="Parts-that-can-be-varied-from-case-to-case"><a href="#Parts-that-can-be-varied-from-case-to-case" class="headerlink" title="Parts that can be varied from case to case"></a>Parts that can be varied from case to case</h3><h4 id="Execute-Time"><a href="#Execute-Time" class="headerlink" title="Execute Time"></a>Execute Time</h4><ul>
<li>It may be that the code you want to package up can’t just be put in a concrete command because the way it’s currently written it assumes it’s going to be executed immediately. </li>
<li>So you may need to adjust it in some way to take account of the fact that it’s possibly going to be executed at a later time.</li>
</ul>
<h4 id="Parameters"><a href="#Parameters" class="headerlink" title="Parameters"></a>Parameters</h4><ul>
<li>“parameters” may also be adjusted, </li>
<li>More parameters may be needed (e.g. containing state that the code needs to execute).</li>
</ul>
<h4 id="Number-of-Commands-in-a-Programme"><a href="#Number-of-Commands-in-a-Programme" class="headerlink" title="Number of Commands in a Programme"></a>Number of Commands in a Programme</h4><ul>
<li>No limit to the number of different kinds of commands</li>
<li>No requirement that there be more than one.</li>
</ul>
<h4 id="Command-encapsulating-the-state-of-receiver"><a href="#Command-encapsulating-the-state-of-receiver" class="headerlink" title="Command encapsulating the state of receiver"></a>Command encapsulating the state of receiver</h4><p>The command can encapsulate the state of the receiver and call methods of the receiver in <code>execute</code>.</p>
<h2 id="TODOs"><a href="#TODOs" class="headerlink" title="TODOs"></a>TODOs</h2><ul>
<li>I need a UML diagram to illustrate the programme components, with command, invoker and receiver highlighted.</li>
<li>I need to examine how the command pattern enhances alterability.</li>
</ul>
<h2 id="UML-version-0-0-1"><a href="#UML-version-0-0-1" class="headerlink" title="UML version 0.0.1"></a>UML version 0.0.1</h2><img src="UML-v1.png" alt="" width="900px"/>

<p>Thins I am not so happy about:</p>
<ul>
<li>Everyone wants to know a bit of Board.</li>
</ul>
<h2 id="UML-version-0-0-2"><a href="#UML-version-0-0-2" class="headerlink" title="UML version 0.0.2"></a>UML version 0.0.2</h2><img src="UML-v2.png" alt="" width="900px"/>

<p>Thins I am not so happy about:</p>
<ul>
<li>Do I use the player or not❓ </li>
<li>Who sows?</li>
</ul>
<h2 id="What-is-the-Command-Pattern"><a href="#What-is-the-Command-Pattern" class="headerlink" title="What is the Command Pattern?"></a>What is the Command Pattern?</h2><ul>
<li>The command pattern is a behavioural pattern in which an object is used to represent and encapsulate all the information needed to call a method at a later time. </li>
<li>This information includes the method name, the object that owns the method (receiver), and values for the method parameters.</li>
</ul>
<h2 id="UML-version-0-1-0"><a href="#UML-version-0-1-0" class="headerlink" title="UML version 0.1.0"></a>UML version 0.1.0</h2><img src="UML-v3.jpg" alt="" width="900px"/>

<p>My doubts:</p>
<blockquote>
<p>I examined how I could get rid of my long list of helper methods in SowCommand, but still feel that the SowCommand is the best place for them, so I am wondering if you have any suggestions on making it a more efficient/accurate command pattern.</p>
</blockquote>
<blockquote>
<blockquote>
<p>I drew the UML below to help illustrate my design. The SowCommand is still doing one thing - sow seeds on the board according to user input. The 4 fields and 12 helper methods are keeping track of one single execution of sowing, for example, how many seeds are yet to be sowed, and where is the next pit to sow into. </p>
</blockquote>
</blockquote>
<blockquote>
<p>I thought it should still be a valid Command as all the helper methods and field just serve the execute() method, but I start feeling unsure after today’s lecture and discussion with classmates on Piazza. </p>
</blockquote>
<p>Ewan’s Responses:</p>
<blockquote>
<p>I think technically this looks like a command pattern, but the size of the class (especially number of methods) seems big. </p>
</blockquote>
<blockquote>
<p>I think that some of what you have in the class could perhaps be moved to a different (possibly new) class, which would then simplify your command class. </p>
</blockquote>
<blockquote>
<p>When I look at your class I get a sense of “<strong>Feature Envy</strong>“. Hope that helps, but if not, let us know.</p>
</blockquote>
<h2 id="UML-version-0-2-0"><a href="#UML-version-0-2-0" class="headerlink" title="UML version 0.2.0"></a>UML version 0.2.0</h2><img src="UML-nice.jpg" alt="" width="1000px"/>

<h2 id="UML-version-0-3-0"><a href="#UML-version-0-3-0" class="headerlink" title="UML version 0.3.0"></a>UML version 0.3.0</h2><img src="UML-v4.jpg" alt="" width="1000px"/>

<h3 id="Command-Pattern"><a href="#Command-Pattern" class="headerlink" title="Command Pattern"></a>Command Pattern</h3><img src="command-pattern.png" alt="" width="500px"/>

<h2 id="UML-version-1-0-0"><a href="#UML-version-1-0-0" class="headerlink" title="UML version 1.0.0"></a>UML version 1.0.0</h2><img src="UML-v5.png" alt="" width="1000px"/>

<h2 id="UML-version-1-0-1"><a href="#UML-version-1-0-1" class="headerlink" title="UML version 1.0.1"></a>UML version 1.0.1</h2><img src="Kalah.png" alt="" width="1000px"/>

<h3 id="Command-Pattern-2"><a href="#Command-Pattern-2" class="headerlink" title="Command Pattern -2"></a>Command Pattern -2</h3><img src="command-pattern-2.png" alt="" width="500px"/>

<h3 id="Reflections"><a href="#Reflections" class="headerlink" title="Reflections"></a>Reflections</h3><img src="submitted.png" alt="" width="500px"/>

<p>The key challenge that I met was finding an appropriate place for command pattern where applying the pattern could truly improve the design. I settled on the two concrete commands, <code>QuitCommand</code> and <code>SowCommand</code>, because they are decided by the user input, and applying this design pattern helps decouple the view and method calls on the model.</p>
<!-- flag of hidden posts -->
        
        <br />
        <div id="comment-container">
        </div>
        <div id="disqus_thread"></div>

        <div id="lv-container">
        </div>

    </div>
</div>

    </div>
</div>


<footer class="footer">
    <ul class="list-inline text-center">
        <span style="font-size:1rem;font-weight:lighter">Link with Anran at:</span>
        
        

        

        

        
        <li>
            <a target="_blank"  href="https://github.com/niuniuanran">
                            <span class="fa-stack fa-lg">
                                <i class="iconfont icon-github"></i>
                            </span>
            </a>
        </li>
        

        
        <li>
            <a target="_blank"  href="https://www.linkedin.com/in/anran-niu-897b4b197">
                            <span class="fa-stack fa-lg">
                                <i class="iconfont icon-linkedin"></i>
                            </span>
            </a>
        </li>
        

    </ul>
    
    <p>
        Created With <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>  Theme <a href="https://github.com/aircloud/hexo-theme-aircloud" target="_blank" rel="noopener">AirCloud</a></p>
</footer>




</body>

<script>
    // We expose some of the variables needed by the front end
    window.hexo_search_path = "search.json"
    window.hexo_root = "/"
    window.isPost = true
</script>
<script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script>

<script src="/js/index.js"></script>

<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>




</html>
