<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="google-site-verification" content="xBT4GhYoi5qRD5tr338pgPM5OWHHIDR6mNg1a3euekI" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="keyword"  content="">
    <link rel="shortcut icon" href="/img/favicon.ico">
    <script data-ad-client="ca-pub-5032777697872834" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <title>
        
        Group activities with underscore library - Anran&#39;s Coding Elephant
        
    </title>

    <!-- Custom CSS -->
    
<link rel="stylesheet" href="/css/aircloud.css">

    
<link rel="stylesheet" href="/css/gitment.css">

    <!--<link rel="stylesheet" href="https://imsun.github.io/gitment/style/default.css">-->
    <link href="//at.alicdn.com/t/font_620856_pl6z7sid89qkt9.css" rel="stylesheet" type="text/css">
    <!-- ga & ba script hoook -->
    <script></script>
<meta name="generator" content="Hexo 4.2.1"></head>

<body>

<div class="site-nav-toggle" id="site-nav-toggle">
    <button>
        <span class="btn-bar"></span>
        <span class="btn-bar"></span>
        <span class="btn-bar"></span>
    </button>
</div>

<div class="index-about">
    <i> Sometimes rewarding, always fun </i>
</div>

<div class="index-container">
    
    <div class="index-left">
        
<div class="nav" id="nav">
    <div class="avatar-name">
        <div class="avatar ">
            <img src="/img/avatar1.png" />
        </div>
        <div class="name">
            <i>Anran Niu</i>
        </div>
    </div>
    <div class="contents" id="nav-content">
        <ul>
            <li >
                <a href="/">
                    <i class="iconfont icon-shouye1"></i>
                    <span>HOME</span>
                </a>
            </li>
            
                <li>
                    <a id="search">
                        <i class="iconfont icon-sousuo1"></i>
                        <span>SEARCH</span>
                    </a>
                </li>
            
            <li >
                <a href="/tags">
                    <i class="iconfont icon-biaoqian1"></i>
                    <span>TAGS</span>
                </a>
            </li>
            <li >
                <a href="/archives">
                    <i class="iconfont icon-guidang2"></i>
                    <span>ARCHIVES</span>
                </a>
            </li>


            <li >
                <a href="/about/">
                    <i class="iconfont icon-guanyu2"></i>
                    <span>ABOUT</span>
                </a>
            </li>

        </ul>
    </div>
    
        <div id="toc" class="toc-article">
    <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#chain"><span class="toc-text">chain</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#groupBy"><span class="toc-text">groupBy</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#map"><span class="toc-text">map</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#sortBy"><span class="toc-text">sortBy</span></a></li></ol>
</div>
    
</div>


<div class="search-field" id="search-field">
    <div class="search-container">
        <div class="search-input">
            <span id="esc-search"> <i class="icon-fanhui iconfont"></i></span>
            <input id="search-input"/>
            <span id="begin-search">search</span>
        </div>
        <div class="search-result-container" id="search-result-container">

        </div>
    </div>
</div>

        <div class="index-about-mobile">
            <i> Sometimes rewarding, always fun </i>
        </div>
    </div>
    
    <div class="index-middle">
        <!-- Main Content -->
        


<div class="post-container">
    <div class="post-title">
        Group activities with underscore library
    </div>

    <div class="post-meta">
        <span class="attr">Post：<span>2020-05-10 23:32:53</span></span>
        
        <span class="attr">Tags：/
        
        <a class="tag" href="/tags/#Javascript" title="Javascript">Javascript</a>
        <span>/</span>
        
        <a class="tag" href="/tags/#Web Development" title="Web Development">Web Development</a>
        <span>/</span>
        
        <a class="tag" href="/tags/#TripTime" title="TripTime">TripTime</a>
        <span>/</span>
        
        <a class="tag" href="/tags/#Functional Programming" title="Functional Programming">Functional Programming</a>
        <span>/</span>
        
        
        </span>
        <span class="attr">Visit：<span id="busuanzi_value_page_pv"></span>
</span>
</span>
    </div>
    <div class="post-content ">
        <p>This will be a nice feature of TripTime: </p>
<blockquote>
<p>As a user, I want to be able to generate and download a pdf for the plan of my trip, so that I can carry my plan around and share with my friends.</p>
</blockquote>
<p>The best organisation of the pdf would be in the order of date. So, I have an array of activities and an array of travels. I want them to be grouped by dates, and these groups should be in order as well. Sounds like a couple of intimidating iterations to me on first thought.</p>
<p>Luckily there’s a js package, <a href="https://www.npmjs.com/package/underscore" target="_blank" rel="noopener">underscore</a> that provides a range of functional programming helpers. </p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">groupByDay</span>(<span class="params">events</span>) </span>&#123;</span><br><span class="line">             <span class="keyword">const</span> occurrenceDay = <span class="function"><span class="keyword">function</span>(<span class="params">event</span>) </span>&#123;</span><br><span class="line">               <span class="keyword">return</span> moment(event.start)</span><br><span class="line">                 .startOf(<span class="string">'day'</span>)</span><br><span class="line">                 .format(<span class="string">'dddd Do MMMM, YYYY'</span>);</span><br><span class="line">             &#125;;</span><br><span class="line">             <span class="keyword">const</span> groupToDay = <span class="function"><span class="keyword">function</span>(<span class="params">group, day</span>) </span>&#123;</span><br><span class="line">               <span class="keyword">return</span> &#123;</span><br><span class="line">                 day: day,</span><br><span class="line">                 events: group,</span><br><span class="line">               &#125;;</span><br><span class="line">             &#125;;</span><br><span class="line">             <span class="keyword">return</span> _.chain(events)</span><br><span class="line">               .groupBy(occurrenceDay)</span><br><span class="line">               .map(groupToDay)</span><br><span class="line">               .sortBy(<span class="string">'day'</span>)</span><br><span class="line">               .value();</span><br><span class="line">           &#125;</span><br></pre></td></tr></table></figure>

<h1 id="chain"><a href="#chain" class="headerlink" title="chain"></a><a href="https://underscorejs.org/#chain" target="_blank" rel="noopener">chain</a></h1><p>Returns a wrapped object. Calling methods on this object will continue to return wrapped objects until value is called.</p>
<h1 id="groupBy"><a href="#groupBy" class="headerlink" title="groupBy"></a><a href="https://underscorejs.org/#groupBy" target="_blank" rel="noopener">groupBy</a></h1><p>Splits a collection into sets, grouped by the result of running each value through iteratee. If iteratee is a string instead of a function, groups by the property named by iteratee on each of the values.</p>
<h1 id="map"><a href="#map" class="headerlink" title="map"></a><a href="https://underscorejs.org/#map" target="_blank" rel="noopener">map</a></h1><p>Produces a new array of values by mapping each value in list through a transformation function (iteratee).</p>
<h1 id="sortBy"><a href="#sortBy" class="headerlink" title="sortBy"></a><a href="(https://underscorejs.org/#sortBy)">sortBy</a></h1><p>Returns a (stably) sorted copy of list, ranked in ascending order by the results of running each value through iteratee. iteratee may also be the string name of the property to sort by (eg. length).</p>

        
        <br />
        <div id="comment-container">
        </div>
        <div id="disqus_thread"></div>

        <div id="lv-container">
        </div>

    </div>
</div>

    </div>
</div>


<footer class="footer">
    <ul class="list-inline text-center">
        <span style="font-size:1rem;font-weight:lighter">Link with Anran at:</span>
        
        

        

        

        
        <li>
            <a target="_blank"  href="https://github.com/niuniuanran">
                            <span class="fa-stack fa-lg">
                                <i class="iconfont icon-github"></i>
                            </span>
            </a>
        </li>
        

        
        <li>
            <a target="_blank"  href="https://www.linkedin.com/in/anran-niu-897b4b197">
                            <span class="fa-stack fa-lg">
                                <i class="iconfont icon-linkedin"></i>
                            </span>
            </a>
        </li>
        

    </ul>
    
    <p>
        Created With <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>  Theme <a href="https://github.com/aircloud/hexo-theme-aircloud" target="_blank" rel="noopener">AirCloud</a></p>
</footer>




</body>

<script>
    // We expose some of the variables needed by the front end
    window.hexo_search_path = "search.json"
    window.hexo_root = "/"
    window.isPost = true
</script>
<script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script>

<script src="/js/index.js"></script>

<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>




</html>
