<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="google-site-verification" content="xBT4GhYoi5qRD5tr338pgPM5OWHHIDR6mNg1a3euekI" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="keyword"  content="">
    <link rel="shortcut icon" href="/img/favicon.ico">
    <script data-ad-client="ca-pub-5032777697872834" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <title>
        
        Use cohort analysis to find out how fast groups progress to their goals - Anran&#39;s Coding Elephant
        
    </title>

    <!-- Custom CSS -->
    
<link rel="stylesheet" href="/css/aircloud.css">

    
<link rel="stylesheet" href="/css/gitment.css">

    <!--<link rel="stylesheet" href="https://imsun.github.io/gitment/style/default.css">-->
    <link href="//at.alicdn.com/t/font_620856_pl6z7sid89qkt9.css" rel="stylesheet" type="text/css">
    <!-- ga & ba script hoook -->
    <script></script>
<meta name="generator" content="Hexo 4.2.1"></head>

<body>

<div class="site-nav-toggle" id="site-nav-toggle">
    <button>
        <span class="btn-bar"></span>
        <span class="btn-bar"></span>
        <span class="btn-bar"></span>
    </button>
</div>

<div class="index-about">
    <i> Sometimes rewarding, always fun </i>
</div>

<div class="index-container">
    
    <div class="index-left">
        
<div class="nav" id="nav">
    <div class="avatar-name">
        <div class="avatar ">
            <img src="/img/avatar1.png" />
        </div>
        <div class="name">
            <i>Anran Niu</i>
        </div>
    </div>
    <div class="contents" id="nav-content">
        <ul>
            <li >
                <a href="/">
                    <i class="iconfont icon-shouye1"></i>
                    <span>HOME</span>
                </a>
            </li>
            
                <li>
                    <a id="search">
                        <i class="iconfont icon-sousuo1"></i>
                        <span>SEARCH</span>
                    </a>
                </li>
            
            <li >
                <a href="/tags">
                    <i class="iconfont icon-biaoqian1"></i>
                    <span>TAGS</span>
                </a>
            </li>
            <li >
                <a href="/archives">
                    <i class="iconfont icon-guidang2"></i>
                    <span>ARCHIVES</span>
                </a>
            </li>


            <li >
                <a href="/about/">
                    <i class="iconfont icon-guanyu2"></i>
                    <span>ABOUT</span>
                </a>
            </li>

        </ul>
    </div>
    
        <div id="toc" class="toc-article">
    <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#When-to-use-cohort-analysis"><span class="toc-text">When to use cohort analysis</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Why-calculating-the-average-time-difference-between-two-stages-are-very-biased"><span class="toc-text">Why calculating the average time difference between two stages are very biased</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#How-cohort-analysis-solves-this-problem"><span class="toc-text">How cohort analysis solves this problem</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#How-to-do-cohort-analysis"><span class="toc-text">How to do cohort analysis</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Things-to-take-notice"><span class="toc-text">Things to take notice</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Variation"><span class="toc-text">Variation</span></a></li></ol>
</div>
    
</div>


<div class="search-field" id="search-field">
    <div class="search-container">
        <div class="search-input">
            <span id="esc-search"> <i class="icon-fanhui iconfont"></i></span>
            <input id="search-input"/>
            <span id="begin-search">search</span>
        </div>
        <div class="search-result-container" id="search-result-container">

        </div>
    </div>
</div>

        <div class="index-about-mobile">
            <i> Sometimes rewarding, always fun </i>
        </div>
    </div>
    
    <div class="index-middle">
        <!-- Main Content -->
        


<div class="post-container">
    <div class="post-title">
        Use cohort analysis to find out how fast groups progress to their goals
    </div>

    <div class="post-meta">
        <span class="attr">Post：<span>2023-01-12 10:07:30</span></span>
        
        <span class="attr">Tags：/
        
        <a class="tag" href="/tags/#Database" title="Database">Database</a>
        <span>/</span>
        
        <a class="tag" href="/tags/#SQL" title="SQL">SQL</a>
        <span>/</span>
        
        
        </span>
        <span class="attr">Visit：<span id="busuanzi_value_page_pv"></span>
</span>
</span>
    </div>
    <div class="post-content ">
        <h2 id="When-to-use-cohort-analysis"><a href="#When-to-use-cohort-analysis" class="headerlink" title="When to use cohort analysis"></a>When to use cohort analysis</h2><p>When we want to decide how fast a group of elements move from one stage to another, and how this speed changes over time.<br>e.g. How long does it take from a user submits an application to their first transaction? How does this speed change over time?</p>
<h3 id="Why-calculating-the-average-time-difference-between-two-stages-are-very-biased"><a href="#Why-calculating-the-average-time-difference-between-two-stages-are-very-biased" class="headerlink" title="Why calculating the average time difference between two stages are very biased"></a>Why calculating the average time difference between two stages are very biased</h3><p>If we calculate the average time <strong>difference</strong>, this means we are only considering the data points that already have the timestamps for both events, and we cannot consider any data points that have not reached the second stage yet. This means more recent data points will have a much shorter average time, but this reduce in average time does not mean an improvement in speed.<br>If it will take 30 days for most of applications submitted yesterday to be processed, but one application was processed, the average processing time is 1.</p>
<h3 id="How-cohort-analysis-solves-this-problem"><a href="#How-cohort-analysis-solves-this-problem" class="headerlink" title="How cohort analysis solves this problem"></a>How cohort analysis solves this problem</h3><p>Instead of calculating the average time, cohort analysis calculates the change of percentage of successful data points over time within each cohort. i.e. instead of having only one controlled variable (start time/first stage time) and measure the finish time/ second stage time, we now control both start time and finish tme, and measure success rate.</p>
<h2 id="How-to-do-cohort-analysis"><a href="#How-to-do-cohort-analysis" class="headerlink" title="How to do cohort analysis"></a>How to do cohort analysis</h2><p>There are four columns needed for a cohort analysis:</p>
<ul>
<li>Cohort date (time of application submission time grouped by the start of the month)</li>
<li>Period (number of periods that has passed since cohort date)</li>
<li>Total cohort size (number of data points in the cohort, number of applications submitted in the cohort month)</li>
<li>Count Satisfying Target (number of applications submitted during [cohort date] month that started transacting when [period] number of months have passed)</li>
</ul>
<h3 id="Things-to-take-notice"><a href="#Things-to-take-notice" class="headerlink" title="Things to take notice"></a>Things to take notice</h3><ol>
<li>You can use <code>with</code> clause to prepare the cohort date (start of period) and cohort size</li>
<li>Be sure not to include the data points that do not have a second stage date, e.g. with <code>inner join</code></li>
</ol>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="Variation"><a href="#Variation" class="headerlink" title="Variation"></a>Variation</h2><p>I varied my cohort analysis to be “cumulative”, i.e. for count satisfying target, instead of number of applications submitted during [cohort date] month that <strong>started transacting</strong> when [period] number of months have passed, I do number of applications submitted during [cohort date] month that <strong>have started transacting</strong> when [period] number of months have passed.</p>
<p>Reference:<a href="https://redash.io/help/user-guide/visualizations/cohort-howto" target="_blank" rel="noopener">https://redash.io/help/user-guide/visualizations/cohort-howto</a></p>

        
        <br />
        <div id="comment-container">
        </div>
        <div id="disqus_thread"></div>

        <div id="lv-container">
        </div>

    </div>
</div>

    </div>
</div>


<footer class="footer">
    <ul class="list-inline text-center">
        <span style="font-size:1rem;font-weight:lighter">Link with Anran at:</span>
        
        

        

        

        
        <li>
            <a target="_blank"  href="https://github.com/niuniuanran">
                            <span class="fa-stack fa-lg">
                                <i class="iconfont icon-github"></i>
                            </span>
            </a>
        </li>
        

        
        <li>
            <a target="_blank"  href="https://www.linkedin.com/in/anran-niu-897b4b197">
                            <span class="fa-stack fa-lg">
                                <i class="iconfont icon-linkedin"></i>
                            </span>
            </a>
        </li>
        

    </ul>
    
    <p>
        Created With <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>  Theme <a href="https://github.com/aircloud/hexo-theme-aircloud" target="_blank" rel="noopener">AirCloud</a></p>
</footer>




</body>

<script>
    // We expose some of the variables needed by the front end
    window.hexo_search_path = "search.json"
    window.hexo_root = "/"
    window.isPost = true
</script>
<script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script>

<script src="/js/index.js"></script>

<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>




</html>
